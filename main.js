(()=>{"use strict";async function e(e,t,n){const r=function(e,t,n){return"current"==e?`https://api.openweathermap.org/data/2.5/weather?q=${n}&units=${t}&APPID=fbd4dc4228329e4126adc34eaddb85c9`:"next24hours"==e?`https://api.openweathermap.org/data/2.5/forecast?q=${n}&units=${t}&APPID=fbd4dc4228329e4126adc34eaddb85c9`:void 0}(e,t,n);try{const e=await fetch(r,{mode:"cors"});return await e.json()}catch(e){alert(e)}}const t=(e,t)=>{return{hour:(n=function(e){const t=e.match(/\d{2}:\d{2}:\d{2}/)[0];return parseInt(t.substr(0,2))}(e.list[t].dt_txt),0==n?"12am":n<12?n+"am":12==n?"12pm":n-12+"pm"),forecastTemperature:Math.round(e.list[t].main.temp),weatherSymbol:function(e){switch(e){case"01d":return"clear_day";case"01n":return"clear_night";case"02d":return"partly_cloudy_day";case"02n":return"partly_cloudy_night";case"03d":case"03n":case"04d":case"04n":return"cloudy";case"09d":case"09n":case"10d":case"10n":return"rainy";case"11d":case"11n":return"thunderstorm";case"13d":case"13n":return"ac_unit";case"50d":case"50n":return"airwave"}}(e.list[t].weather[0].icon)};var n};let n="melbourne,au";async function r(){let r=await e("current","metric",n);const c=(e=>({cityName:e.name,country:e.sys.country}))(r);!function(e){document.querySelector("#city-name").textContent=`${e.cityName}, ${e.country}`}(c);const a=(e=>{let t=e.weather[0].description;return t=t.charAt(0).toUpperCase()+t.slice(1),{weatherDescriptor:t,currentTemperature:Math.round(e.main.temp),feelsLike:Math.round(e.main.feels_like),humidity:e.main.humidity,windSpeed:Math.round(e.wind.speed)}})(r);!function(e){document.querySelector("#current-temperature").textContent=`${e.currentTemperature} ˚C`,document.querySelector("#weather-descriptor").textContent=e.weatherDescriptor;let t=document.querySelector(".feels-like").children[1].textContent=`Feels like: ${e.feelsLike} ˚C`;t=document.querySelector(".humidity").children[1].textContent=`Humidity: ${e.humidity} %`,t=document.querySelector(".wind-speed").children[1].textContent=`Wind speed: ${e.windSpeed} km/h`}(a),r=await e("next24hours","metric",n);const s=(e=>{let n=[];for(let r=0;r<8;r++){let c=t(e,r);n.push(c)}return{list:n}})(r);!function(e){const t=document.querySelector("#hours-container");t.innerHTML="";for(let n=0;n<8;n++){const r=document.createElement("div");r.classList.add("hour-forecast"),r.setAttribute("data-id",n);const c=document.createElement("h3");c.classList.add("hour"),c.textContent=e.list[n].hour,r.appendChild(c);const a=document.createElement("div");a.classList.add("weather-symbol");const s=document.createElement("span");s.classList.add("material-symbols-outlined"),s.classList.add("md-48"),s.textContent=e.list[n].weatherSymbol,a.appendChild(s),r.appendChild(a);const d=document.createElement("div");d.classList.add("temperature"),d.textContent=`${e.list[n].forecastTemperature} ˚C`,r.appendChild(d),t.appendChild(r)}}(s)}r();const c=document.querySelector(".input");document.querySelector("#search-button").addEventListener("click",(e=>{n=c.value,r()}))})();