(()=>{"use strict";async function e(e,t,n){const r=function(e,t,n){return"current"==e?`https://api.openweathermap.org/data/2.5/weather?q=${n}&units=${t}&APPID=fbd4dc4228329e4126adc34eaddb85c9`:"next24hours"==e?`https://api.openweathermap.org/data/2.5/forecast?q=${n}&units=${t}&APPID=fbd4dc4228329e4126adc34eaddb85c9`:void 0}(e,t,n);try{const e=await fetch(r,{mode:"cors"});return await e.json()}catch(e){alert(e)}}function t(e,t){const n=function(e,t){const n=new Date(1e3*e),r=n.getTime(),c=6e4*n.getTimezoneOffset();return new Date(r+c+1e3*t)}(e,t);let r=n.getHours();return n.getMinutes()>30&&(r+=1),r}const n=(e,n)=>{return{hour:(r=t(e.list[n].dt,e.city.timezone),0==r?"12am":r<12?r+"am":12==r?"12pm":r-12+"pm"),forecastTemperature:Math.round(e.list[n].main.temp),weatherSymbol:function(e){switch(e){case"01d":return"clear_day";case"01n":return"clear_night";case"02d":return"partly_cloudy_day";case"02n":return"partly_cloudy_night";case"03d":case"03n":case"04d":case"04n":return"cloudy";case"09d":case"09n":case"10d":case"10n":return"rainy";case"11d":case"11n":return"thunderstorm";case"13d":case"13n":return"ac_unit";case"50d":case"50n":return"airwave"}}(e.list[n].weather[0].icon)};var r};let r="melbourne,au";async function c(){let t=await e("current","metric",r);const c=(e=>({cityName:e.name,country:e.sys.country}))(t);!function(e){document.querySelector("#city-name").textContent=`${e.cityName}, ${e.country}`}(c);const a=(e=>{let t=e.weather[0].description;return t=t.charAt(0).toUpperCase()+t.slice(1),{weatherDescriptor:t,currentTemperature:Math.round(e.main.temp),feelsLike:Math.round(e.main.feels_like),humidity:e.main.humidity,windSpeed:Math.round(e.wind.speed)}})(t);!function(e){document.querySelector("#current-temperature").textContent=`${e.currentTemperature} ˚C`,document.querySelector("#weather-descriptor").textContent=e.weatherDescriptor;let t=document.querySelector(".feels-like").children[1].textContent=`Feels like: ${e.feelsLike} ˚C`;t=document.querySelector(".humidity").children[1].textContent=`Humidity: ${e.humidity} %`,t=document.querySelector(".wind-speed").children[1].textContent=`Wind speed: ${e.windSpeed} km/h`}(a),t=await e("next24hours","metric",r);const o=(e=>{let t=[];for(let r=0;r<8;r++){let c=n(e,r);t.push(c)}return{list:t}})(t);!function(e){const t=document.querySelector("#hours-container");t.innerHTML="";for(let n=0;n<8;n++){const r=document.createElement("div");r.classList.add("hour-forecast"),r.setAttribute("data-id",n);const c=document.createElement("h3");c.classList.add("hour"),c.textContent=e.list[n].hour,r.appendChild(c);const a=document.createElement("div");a.classList.add("weather-symbol");const o=document.createElement("span");o.classList.add("material-symbols-outlined"),o.classList.add("md-48"),o.textContent=e.list[n].weatherSymbol,a.appendChild(o),r.appendChild(a);const s=document.createElement("div");s.classList.add("temperature"),s.textContent=`${e.list[n].forecastTemperature} ˚C`,r.appendChild(s),t.appendChild(r)}}(o)}c();const a=document.querySelector(".input");document.querySelector("#search-button").addEventListener("click",(e=>{r=a.value,c()}))})();